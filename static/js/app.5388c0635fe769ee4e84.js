webpackJsonp([1],{A3Po:function(o,e,t){"use strict";var n=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"clearfix",attrs:{id:"topoComponent"}},[t("div",{attrs:{id:"toolbar"}},[t("div",{staticClass:"toolbar-head"},[o._v("\n          Node Types\n      ")]),o._v(" "),t("div",{staticClass:"toolbar-main"},[t("el-collapse",{model:{value:o.activeNames,callback:function(e){o.activeNames=e},expression:"activeNames"}},[t("el-collapse-item",{attrs:{title:"nodecellar.nodes",name:"1"}},[t("div",{staticClass:"according-inner"},[t("ul",{staticClass:"nodelist clearfix"},o._l(o.toolbarNodeData,function(e,n){return t("li",{key:n,staticClass:"node-item node-css",on:{mousedown:function(e){o.dragToolbarNode(o.toolbarNodeData,n,e)}}},[t("div",{staticClass:"node-icon"},[t("i",{staticClass:" fa",class:e.icon})]),o._v(" "),t("div",{staticClass:"node-name"},[o._v(o._s(e.name))])])}))])]),o._v(" "),t("el-collapse-item",{attrs:{title:"haproxy.nodes",name:"2"}}),o._v(" "),t("el-collapse-item",{attrs:{title:"cloudify.nodes",name:"3"}}),o._v(" "),t("el-collapse-item",{attrs:{title:"cloudify.openstack.nodes",name:"4"}})],1)],1)]),o._v(" "),t("div",{attrs:{id:"topo-wrap"}},[t("svg",{attrs:{id:"topo-svg"},on:{mouseover:o.moveInTopoSvg,mouseout:o.moveOutTopoSvg}},[t("defs",[t("pattern",{attrs:{id:"Pattern",x:"0",y:"0",width:"100",height:"100",patternUnits:"userSpaceOnUse"}},o._l(o.gridData,function(o,e){return t("line",{attrs:{x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2,stroke:o.color,"stroke-width":o.strokeWidth,opacity:o.opacity}})}))]),o._v(" "),t("rect",{attrs:{fill:"url(#Pattern)",width:"100%",height:"100%"}}),o._v(" "),t("line",{staticClass:"marker",class:{isMarkerShow:o.marker.isMarkerShow},attrs:{id:"xmarker",x1:o.marker.xmarkerX1,y1:o.marker.xmarkerY1,x2:o.marker.xmarkerX2,y2:o.marker.xmarkerY2}}),o._v(" "),t("line",{staticClass:"marker",class:{isMarkerShow:o.marker.isMarkerShow},attrs:{id:"ymarker",x1:o.marker.ymarkerX1,y1:o.marker.ymarkerY1,x2:o.marker.ymarkerX2,y2:o.marker.ymarkerY2}}),o._v(" "),o._l(o.topoData.nodes,function(e,n){return t("g",{key:n,staticClass:"nodesG",attrs:{transform:"translate("+e.x+","+e.y+")"},on:{mouseover:function(e){o.mouseroverNode(n,e)},mouseout:function(o){e.isActive=!e.isActive},mousedown:function(e){o.dragNode(n,e)}}},[t("rect",{staticClass:"reactClass",class:{isChoose:e.isActive},attrs:{x:"0",y:"0",rx:"2",ry:"2",width:e.width,height:e.height}}),o._v(" "),t("g",{staticClass:"connectorArror",class:{connector:e.isLeftConnectShow},attrs:{transform:"translate(0,"+e.height/2+")"},on:{mouseover:function(e){e.stopPropagation(),o.getConnectLine(n)},mouseout:function(e){e.stopPropagation(),o.mouseoutLeftConnector(n)}}},[t("circle",{attrs:{r:"8",cx:"0",cy:"0",fill:"#768699"}}),o._v(" "),t("line",{attrs:{x1:"-3",y1:"-5",x2:"4",y2:"0.5",stroke:"#fff"}}),o._v(" "),t("line",{attrs:{x1:"4",y1:"-0.5",x2:"-3",y2:"5",stroke:"#fff"}})]),o._v(" "),t("g",{staticClass:"connectorArror",class:{connector:e.isRightConnectShow},attrs:{transform:"translate("+e.width+","+e.height/2+")"},on:{mousedown:function(e){e.stopPropagation(),o.drawConnectLine(n,e)}}},[t("circle",{attrs:{r:"8",cx:"0",cy:"0",fill:"#768699"}}),o._v(" "),t("line",{attrs:{x1:"-3",y1:"-5",x2:"4",y2:"0.5",stroke:"#fff"}}),o._v(" "),t("line",{attrs:{x1:"4",y1:"-0.5",x2:"-3",y2:"5",stroke:"#fff"}})])])}),o._v(" "),o._l(o.topoData.connectors,function(e,n){return t("g",{staticClass:"connectorsG"},[e.sourceNode==e.targetNode&&"Line"==e.type?t("path",{attrs:{d:"M"+e.pointes[0]+","+e.pointes[1]+"h"+e.pointes[2]+"v"+e.pointes[3]+"h"+e.pointes[4]+"v"+e.pointes[5]+"h"+e.pointes[6]+"v0",stroke:"#768699",fill:"none","stroke-width":"2"}}):o._e(),o._v(" "),e.sourceNode!=e.targetNode&&"Line"==e.type&&e.pointes[0]<e.pointes[2]?t("path",{attrs:{d:"M"+e.pointes[0]+","+e.pointes[1]+"h"+(e.pointes[2]-e.pointes[0])/2+"v"+(e.pointes[3]-e.pointes[1])+"h"+(e.pointes[2]-e.pointes[0])/2+"v0",stroke:"#768699",fill:"none","stroke-width":"2"}}):o._e(),o._v(" "),"Line"==e.type&&e.sourceNode!=e.targetNode&&e.pointes[0]>=e.pointes[2]&&e.sourceNodeH/2+e.pointes[1]<e.pointes[3]-e.targetNodeH/2?t("path",{attrs:{d:"M"+e.pointes[0]+","+e.pointes[1]+"h"+o.connectorW+"v"+(e.sourceNodeH/2+(e.pointes[3]-e.pointes[1]-e.sourceNodeH/2-e.targetNodeH/2)/2)+"H"+(e.pointes[2]-o.connectorW)+"V"+e.pointes[3]+"h"+o.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):o._e(),o._v(" "),"Line"==e.type&&e.sourceNode!=e.targetNode&&e.pointes[0]>=e.pointes[2]&&e.targetNodeH/2+e.pointes[3]<e.pointes[1]-e.sourceNodeH/2?t("path",{attrs:{d:"M"+e.pointes[0]+","+e.pointes[1]+"h"+o.connectorW+"v"+(-e.sourceNodeH/2-(e.pointes[1]-e.pointes[3]-e.sourceNodeH/2-e.targetNodeH/2)/2)+"H"+(e.pointes[2]-o.connectorW)+"V"+e.pointes[3]+"h"+o.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):o._e(),o._v(" "),"Line"==e.type&&e.sourceNode!=e.targetNode&&e.pointes[0]>=e.pointes[2]&&e.pointes[3]<e.pointes[1]&&e.pointes[3]+e.targetNodeH/2>=e.pointes[1]-e.sourceNodeH/2?t("path",{attrs:{d:"M"+e.pointes[0]+","+e.pointes[1]+"h"+o.connectorW+"V"+(e.pointes[1]-e.sourceNodeH/2-e.pointes[3]+e.targetNodeH/2<0?e.pointes[1]-e.sourceNodeH/2-o.connectorW:e.pointes[3]-e.targetNodeH/2-o.connectorW)+"H"+(e.pointes[2]-o.connectorW)+"V"+e.pointes[3]+"h"+o.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):o._e(),o._v(" "),"Line"==e.type&&e.sourceNode!=e.targetNode&&e.pointes[0]>=e.pointes[2]&&e.pointes[3]>=e.pointes[1]&&e.pointes[3]+e.targetNodeH/2>=e.pointes[1]-e.sourceNodeH/2&&e.pointes[3]-e.targetNodeH/2<=e.pointes[1]+e.sourceNodeH/2?t("path",{attrs:{d:"M"+e.pointes[0]+","+e.pointes[1]+"h"+o.connectorW+"V"+(e.targetNodeH/2+e.pointes[3]-e.sourceNodeH/2-e.pointes[1]>=0?e.targetNodeH/2+e.pointes[3]+o.connectorW:e.sourceNodeH/2+e.pointes[1]+o.connectorW)+"H"+(e.pointes[2]-o.connectorW)+"V"+e.pointes[3]+"h"+o.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):o._e()])}),o._v(" "),t("g",[t("line",{directives:[{name:"show",rawName:"v-show",value:o.connectingLine.isConnecting,expression:"connectingLine.isConnecting"}],attrs:{x1:o.connectingLine.x1,y1:o.connectingLine.y1,x2:o.connectingLine.x2,y2:o.connectingLine.y2,stroke:"#768699","stroke-width":"2"}})])],2)]),o._v(" "),o.toolbarMoveNode.isShow?t("div",{staticClass:"node-css",style:{left:o.toolbarMoveNode.left+"px",top:o.toolbarMoveNode.top+"px"},attrs:{id:"move-node"}},[t("div",{staticClass:"node-icon"},[t("i",{staticClass:" fa",class:o.toolbarMoveNode.icon})]),o._v(" "),t("div",{staticClass:"node-name"},[o._v(o._s(o.toolbarMoveNode.name))])]):o._e()])},r=[],i={render:n,staticRenderFns:r};e.a=i},DICR:function(o,e,t){"use strict";e.a={name:"app"}},HBSQ:function(o,e){},JsS9:function(o,e){},M93x:function(o,e,t){"use strict";function n(o){t("avIL")}var r=t("DICR"),i=t("r0Cc"),s=t("46Yf"),a=n,c=s(r.a,i.a,!1,a,null,null);e.a=c.exports},NHnr:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("MVSX"),r=t("M93x"),i=t("YaEn"),s=t("tra3"),a=(t.n(s),t("IvUc")),c=t.n(a),d=t("dZdb"),l=(t.n(d),t("HBSQ"));t.n(l);n.default.config.productionTip=!1,n.default.use(c.a),new n.default({el:"#app",router:i.a,template:"<App/>",components:{App:r.a}})},YaEn:function(o,e,t){"use strict";var n=t("MVSX"),r=t("zO6J"),i=t("gORT");n.default.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Hello",component:i.a}]})},avIL:function(o,e){},dZdb:function(o,e){},gORT:function(o,e,t){"use strict";function n(o){t("m8VV"),t("JsS9")}var r=t("n3US"),i=t("A3Po"),s=t("46Yf"),a=n,c=s(r.a,i.a,!1,a,"data-v-818de864",null);e.a=c.exports},m8VV:function(o,e){},n3US:function(o,e,t){"use strict";(function(o){e.a={name:"HelloWorld",data:function(){return{activeNames:["1"],toolbarNodeData:[{name:"NodeJSServer",icon:"fa-server",width:100,height:100},{name:"MongoDatabase",icon:"fa-database",width:50,height:50},{name:"NodecellarApplicationModule",icon:"fa-cube",width:50,height:50},{name:"MonitoredServer",icon:"fa-cogs",width:50,height:50},{name:"Proxy",icon:"fa-product-hunt",width:50,height:50},{name:"Volume",icon:"fa-volume-up",width:50,height:50}],toolbarMoveNode:{left:0,top:0,name:"",icon:"",isShow:!1},svgTopo:{isMoveover:!1},connectorWSelf:15,connectorW:15,classchoose:!1,connectingLine:{x1:0,y1:0,x2:0,y2:0,isConnecting:!0,sourceNode:"",endNode:""},marker:{xmarkerX1:0,xmarkerY1:0,xmarkerX2:0,xmarkerY2:0,ymarkerX1:0,ymarkerY1:0,ymarkerX2:0,ymarkerY2:0,isMarkerShow:!1},gridData:[{x1:0,x2:100,y1:20,y2:20,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:0,x2:100,y1:40,y2:40,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:0,x2:100,y1:60,y2:60,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:0,x2:100,y1:80,y2:80,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:20,x2:20,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:40,x2:40,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:60,x2:60,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:80,x2:80,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:100,x2:100,y1:0,y2:100,color:"#c0c0c0",strokeWidth:2,opacity:.6},{x1:0,x2:100,y1:100,y2:100,color:"#c0c0c0",strokeWidth:2,opacity:.6}],topoData:{nodes:[{x:30,y:10,isActive:!1,icon:"*",width:60,height:60,id:66,isLeftConnectShow:!1,isRightConnectShow:!1},{x:100,y:50,isActive:!1,icon:"✏",width:100,height:100,id:77,isLeftConnectShow:!1,isRightConnectShow:!1},{x:500,y:100,isActive:!1,icon:"",width:60,height:60,id:88,isLeftConnectShow:!1,isRightConnectShow:!1}],connectors:[]}}},computed:{},methods:{dragToolbarNode:function(e,t,n){function r(o){return Number(Math.random().toString().substr(3,o)+Date.now()).toString(36)}var i=this,s=e[t],a=s.name,c=s.icon;document.onmousemove=function(e){var t=e.clientX,n=e.clientY,r=e.clientX-o("#topo-svg").offset().left,s=e.clientY-o("#topo-svg").offset().top;if(i.toolbarMoveNode.left=t+4,i.toolbarMoveNode.top=n+4,i.toolbarMoveNode.name=a,i.toolbarMoveNode.icon=c,i.toolbarMoveNode.isShow=!0,i.svgTopo.isMoveover){i.marker.isMarkerShow=!0;var d=Math.floor(r/20),l=Math.floor(s/20);i.marker.xmarkerY1=20*l,i.marker.xmarkerY2=20*l,i.marker.ymarkerX1=20*d,i.marker.ymarkerX2=20*d}},document.onmouseup=function(o){if(document.onmousemove=null,document.onmouseup=null,i.svgTopo.isMoveover){var e=r(5),t={x:i.marker.ymarkerX1,y:i.marker.xmarkerY2,isActive:!1,icon:"*",width:s.width,height:s.height,id:e,isLeftConnectShow:!1,isRightConnectShow:!1};i.marker.isMarkerShow=!1,i.topoData.nodes.push(t)}i.toolbarMoveNode.left=0,i.toolbarMoveNode.top=0,i.toolbarMoveNode.name="",i.toolbarMoveNode.icon="",i.toolbarMoveNode.isShow=!1}},moveInTopoSvg:function(){this.svgTopo.isMoveover=!0},moveOutTopoSvg:function(){this.svgTopo.isMoveover=!1,this.marker.isMarkerShow=!1},dragNode:function(o,e){function t(o,e,t){o.forEach(function(o,n){o.sourceNode!=d&&o.targetNode!=d||("Line"==o.type?o.sourceNode==o.targetNode?(o.pointes[0]=e+l,o.pointes[1]=t+p/2):o.sourceNode!=o.targetNode&&(o.sourceNode==d?(o.pointes[0]=e+l,o.pointes[1]=t+p/2):o.targetNode==d&&(o.pointes[2]=e,o.pointes[3]=t+p/2)):o.type)})}var n=this,r=e.clientX,i=e.clientY,s=this.topoData.nodes[o],a=s.x,c=s.y,d=s.id,l=s.width,p=s.height;this.marker.isMarkerShow=!0,document.onmousemove=function(o){var e=o.clientX-r,d=o.clientY-i,l=a+e,p=c+d,u=Math.floor(l/20),h=Math.floor(p/20);s.x=l,s.y=p,n.marker.xmarkerY1=20*h,n.marker.xmarkerY2=20*h,n.marker.ymarkerX1=20*u,n.marker.ymarkerX2=20*u,t(n.topoData.connectors,l,p)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,n.marker.isMarkerShow=!1;var o=n.marker.ymarkerX1,e=n.marker.xmarkerY2;s.x=o,s.y=e,t(n.topoData.connectors,o,e)}},drawConnectLine:function(e,t){var n=this,r=this.connectingLine,i=this.topoData.nodes[e],s=i.width,a=i.height,c=t.clientX,d=t.clientY,l=t.clientX-o("#topo-svg").offset().left,p=t.clientY-o("#topo-svg").offset().top+4;r.isConnecting=!0,r.x1=l,r.y1=p,r.x2=l,r.y2=p,r.sourceNode=i.id,document.onmousemove=function(o){var e=o.clientX-c,t=o.clientY-d,n=l+e,s=p+t;i.isRightConnectShow=!0,r.x2=n,r.y2=s},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null;var o=!1,e=n.topoData.connectors,t=[],c=s,d=a,l=0,p=0,u=0,h=0,m="";if(r.endNode){if(e.forEach(function(e,t){e.sourceNode==i.id&&e.targetNode==r.endNode&&(o=!0)}),!o){n.topoData.nodes.forEach(function(o,e){o.id==r.endNode&&(l=o.width,p=o.height,u=o.x,h=o.y)}),r.sourceNode==r.endNode?(m="Line",t[0]=i.x+s,t[1]=i.y+a/2,t[2]=n.connectorWSelf,t[3]=-a/2-n.connectorWSelf,t[4]=-s-2*n.connectorWSelf,t[5]=n.connectorWSelf+a/2,t[6]=n.connectorWSelf):r.sourceNode!=r.endNode&&(m="Line",t[0]=i.x+s,t[1]=i.y+a/2,t[2]=u,t[3]=h+p/2);var v={type:m,pointes:t,sourceNode:i.id,targetNode:r.endNode,sourceNodeW:c,sourceNodeH:d,targetNodeW:l,targetNodeH:p};i.isRightConnectShow=!0,n.topoData.nodes.forEach(function(o,e){o.id==r.endNode&&(o.isLeftConnectShow=!0)}),e.push(v)}}else i.isRightConnectShow=!1,e.forEach(function(o,e){n.topoData.nodes.forEach(function(e,t){e.id==o.sourceNode&&(e.isRightConnectShow=!0)})});r.x1=0,r.y1=0,r.x2=0,r.y2=0,r.isConnecting=!1,r.sourceNode="",r.endNode=""}},mouseroverNode:function(o,e){this.topoData.nodes[o].isActive=!0,this.marker.xmarkerY1=this.topoData.nodes[o].y,this.marker.xmarkerY2=this.topoData.nodes[o].y,this.marker.ymarkerX1=this.topoData.nodes[o].x,this.marker.ymarkerX2=this.topoData.nodes[o].x},getConnectLine:function(o){this.connectingLine.endNode=this.topoData.nodes[o].id},mouseoutLeftConnector:function(o){this.connectingLine.endNode=""}},mounted:function(){this.marker.xmarkerX2=o("#topo-svg").width(),this.marker.ymarkerY2=o("#topo-svg").height()}}}).call(e,t("tra3"))},r0Cc:function(o,e,t){"use strict";var n=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],i={render:n,staticRenderFns:r};e.a=i}},["NHnr"]);
//# sourceMappingURL=app.5388c0635fe769ee4e84.js.map