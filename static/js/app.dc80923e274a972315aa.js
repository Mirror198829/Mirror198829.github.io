webpackJsonp([1],{"+7d6":function(e,o){},"0l0b":function(e,o){},"4FHn":function(e,o,t){"use strict";function n(e){t("qj8d")}var r=t("bs1c"),i=t("BrV9"),s=t("46Yf"),a=n,c=s(r.a,i.a,!1,a,"data-v-6003e853",null);o.a=c.exports},"7nmK":function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"clearfix",attrs:{id:"topoComponent"}},[t("div",{attrs:{id:"toolbar"}},[t("div",{staticClass:"toolbar-head"},[e._v("\n          Node Types\n      ")]),e._v(" "),t("div",{staticClass:"toolbar-main"},[t("el-collapse",{model:{value:e.activeNames,callback:function(o){e.activeNames=o},expression:"activeNames"}},[t("el-collapse-item",{attrs:{title:"nodecellar.nodes",name:"1"}},[t("div",{staticClass:"according-inner"},[t("ul",{staticClass:"nodelist clearfix"},e._l(e.toolbarNodeData,function(o,n){return t("li",{key:n,staticClass:"node-item node-css",on:{mousedown:function(o){o.stopPropagation(),e.dragToolbarNode(e.toolbarNodeData,n,o)}}},[t("div",{staticClass:"node-icon"},[t("i",{staticClass:" fa",class:o.icon})]),e._v(" "),t("div",{staticClass:"node-name",attrs:{title:o.name}},[e._v(e._s(o.name))])])}))])]),e._v(" "),t("el-collapse-item",{attrs:{title:"haproxy.nodes",name:"2"}}),e._v(" "),t("el-collapse-item",{attrs:{title:"cloudify.nodes",name:"3"}}),e._v(" "),t("el-collapse-item",{attrs:{title:"cloudify.openstack.nodes",name:"4"}})],1)],1)]),e._v(" "),t("div",{attrs:{id:"topo-wrap"}},[t("svg",{attrs:{id:"topo-svg"},on:{mouseover:e.moveInTopoSvg,mouseout:e.moveOutTopoSvg,mousedown:function(o){o.stopPropagation(),e.mousedownTopoSvg(o)}}},[t("defs",[t("pattern",{attrs:{id:"Pattern",x:"0",y:"0",width:"100",height:"100",patternUnits:"userSpaceOnUse"}},e._l(e.gridData,function(e,o){return t("line",{attrs:{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,stroke:e.color,"stroke-width":e.strokeWidth,opacity:e.opacity}})}))]),e._v(" "),t("rect",{attrs:{fill:"url(#Pattern)",width:"100%",height:"100%"}}),e._v(" "),t("line",{staticClass:"marker",class:{isMarkerShow:e.marker.isMarkerShow},attrs:{id:"xmarker",x1:e.marker.xmarkerX1,y1:e.marker.xmarkerY1,x2:e.marker.xmarkerX2,y2:e.marker.xmarkerY2}}),e._v(" "),t("line",{staticClass:"marker",class:{isMarkerShow:e.marker.isMarkerShow},attrs:{id:"ymarker",x1:e.marker.ymarkerX1,y1:e.marker.ymarkerY1,x2:e.marker.ymarkerX2,y2:e.marker.ymarkerY2}}),e._v(" "),e._l(e.topoData.nodes,function(o,n){return t("g",{key:n,staticClass:"nodesG",attrs:{transform:"translate("+o.x+","+o.y+")"},on:{mouseover:function(o){e.mouseroverNode(n,o)},mousedown:function(o){o.stopPropagation(),e.dragNode(n,o)}}},[t("rect",{staticClass:"reactClass",class:{isSelect:o.isSelect},attrs:{x:"0",y:"0",rx:"2",ry:"2",width:o.width,height:o.height}}),e._v(" "),t("text",{staticClass:"nodeName",attrs:{x:"5",y:"15"}},[e._v(e._s(o.name))]),e._v(" "),t("g",{staticClass:"connectorArror",class:{connector:o.isLeftConnectShow},attrs:{transform:"translate(0,"+o.height/2+")"},on:{mouseover:function(o){o.stopPropagation(),e.getConnectLine(n)},mouseout:function(o){o.stopPropagation(),e.mouseoutLeftConnector(n)}}},[t("circle",{attrs:{r:"8",cx:"0",cy:"0",fill:"#768699"}}),e._v(" "),t("line",{attrs:{x1:"-3",y1:"-5",x2:"4",y2:"0.5",stroke:"#fff"}}),e._v(" "),t("line",{attrs:{x1:"4",y1:"-0.5",x2:"-3",y2:"5",stroke:"#fff"}})]),e._v(" "),t("g",{staticClass:"connectorArror",class:{connector:o.isRightConnectShow},attrs:{transform:"translate("+o.width+","+o.height/2+")"},on:{mousedown:function(o){o.stopPropagation(),e.drawConnectLine(n,o)}}},[t("circle",{attrs:{r:"8",cx:"0",cy:"0",fill:"#768699"}}),e._v(" "),t("line",{attrs:{x1:"-3",y1:"-5",x2:"4",y2:"0.5",stroke:"#fff"}}),e._v(" "),t("line",{attrs:{x1:"4",y1:"-0.5",x2:"-3",y2:"5",stroke:"#fff"}})])])}),e._v(" "),e._l(e.topoData.connectors,function(o,n){return t("g",{staticClass:"connectorsG"},[o.sourceNode==o.targetNode&&"Line"==o.type?t("path",{attrs:{d:"M"+o.pointes[0]+","+o.pointes[1]+"h"+o.pointes[2]+"v"+o.pointes[3]+"h"+o.pointes[4]+"v"+o.pointes[5]+"h"+o.pointes[6]+"v0",stroke:"#768699",fill:"none","stroke-width":"2"}}):e._e(),e._v(" "),o.sourceNode!=o.targetNode&&"Line"==o.type&&o.pointes[0]<o.pointes[2]?t("path",{attrs:{d:"M"+o.pointes[0]+","+o.pointes[1]+"h"+(o.pointes[2]-o.pointes[0])/2+"v"+(o.pointes[3]-o.pointes[1])+"h"+(o.pointes[2]-o.pointes[0])/2+"v0",stroke:"#768699",fill:"none","stroke-width":"2"}}):e._e(),e._v(" "),"Line"==o.type&&o.sourceNode!=o.targetNode&&o.pointes[0]>=o.pointes[2]&&o.sourceNodeH/2+o.pointes[1]<o.pointes[3]-o.targetNodeH/2?t("path",{attrs:{d:"M"+o.pointes[0]+","+o.pointes[1]+"h"+e.connectorW+"v"+(o.sourceNodeH/2+(o.pointes[3]-o.pointes[1]-o.sourceNodeH/2-o.targetNodeH/2)/2)+"H"+(o.pointes[2]-e.connectorW)+"V"+o.pointes[3]+"h"+e.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):e._e(),e._v(" "),"Line"==o.type&&o.sourceNode!=o.targetNode&&o.pointes[0]>=o.pointes[2]&&o.targetNodeH/2+o.pointes[3]<o.pointes[1]-o.sourceNodeH/2?t("path",{attrs:{d:"M"+o.pointes[0]+","+o.pointes[1]+"h"+e.connectorW+"v"+(-o.sourceNodeH/2-(o.pointes[1]-o.pointes[3]-o.sourceNodeH/2-o.targetNodeH/2)/2)+"H"+(o.pointes[2]-e.connectorW)+"V"+o.pointes[3]+"h"+e.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):e._e(),e._v(" "),"Line"==o.type&&o.sourceNode!=o.targetNode&&o.pointes[0]>=o.pointes[2]&&o.pointes[3]<o.pointes[1]&&o.pointes[3]+o.targetNodeH/2>=o.pointes[1]-o.sourceNodeH/2?t("path",{attrs:{d:"M"+o.pointes[0]+","+o.pointes[1]+"h"+e.connectorW+"V"+(o.pointes[1]-o.sourceNodeH/2-o.pointes[3]+o.targetNodeH/2<0?o.pointes[1]-o.sourceNodeH/2-e.connectorW:o.pointes[3]-o.targetNodeH/2-e.connectorW)+"H"+(o.pointes[2]-e.connectorW)+"V"+o.pointes[3]+"h"+e.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):e._e(),e._v(" "),"Line"==o.type&&o.sourceNode!=o.targetNode&&o.pointes[0]>=o.pointes[2]&&o.pointes[3]>=o.pointes[1]&&o.pointes[3]+o.targetNodeH/2>=o.pointes[1]-o.sourceNodeH/2&&o.pointes[3]-o.targetNodeH/2<=o.pointes[1]+o.sourceNodeH/2?t("path",{attrs:{d:"M"+o.pointes[0]+","+o.pointes[1]+"h"+e.connectorW+"V"+(o.targetNodeH/2+o.pointes[3]-o.sourceNodeH/2-o.pointes[1]>=0?o.targetNodeH/2+o.pointes[3]+e.connectorW:o.sourceNodeH/2+o.pointes[1]+e.connectorW)+"H"+(o.pointes[2]-e.connectorW)+"V"+o.pointes[3]+"h"+e.connectorW,stroke:"#768699",fill:"none","stroke-width":"2"}}):e._e()])}),e._v(" "),t("g",[t("line",{directives:[{name:"show",rawName:"v-show",value:e.connectingLine.isConnecting,expression:"connectingLine.isConnecting"}],attrs:{x1:e.connectingLine.x1,y1:e.connectingLine.y1,x2:e.connectingLine.x2,y2:e.connectingLine.y2,stroke:"#768699","stroke-width":"2"}})])],2)]),e._v(" "),e.toolbarMoveNode.isShow?t("div",{staticClass:"node-css",style:{left:e.toolbarMoveNode.left+"px",top:e.toolbarMoveNode.top+"px"},attrs:{id:"move-node"}},[t("div",{staticClass:"node-icon"},[t("i",{staticClass:" fa",class:e.toolbarMoveNode.icon})]),e._v(" "),t("div",{staticClass:"node-name"},[e._v(e._s(e.toolbarMoveNode.name))])]):e._e()])},r=[],i={render:n,staticRenderFns:r};o.a=i},BrV9:function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("footer",{attrs:{id:"footer"}},[t("div",{staticClass:"foot-txt"},[e._v("江苏新大陆")]),e._v(" "),t("div",{staticClass:"foot-txt"},[e._v("苏ICP备17040376号-5 苏B2-20130048号")])])}],i={render:n,staticRenderFns:r};o.a=i},CXZq:function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;return(e._self._c||o)("header",{attrs:{id:"header"}},[e._v("\n\tVUE拓扑组件\n")])},r=[],i={render:n,staticRenderFns:r};o.a=i},DICR:function(e,o,t){"use strict";var n=t("ODaZ"),r=t("4FHn"),i=t("i+go");o.a={name:"app",components:{vHeader:n.a,vFooter:r.a,vTopo:i.a}}},HBSQ:function(e,o){},M93x:function(e,o,t){"use strict";function n(e){t("avIL")}var r=t("DICR"),i=t("r0Cc"),s=t("46Yf"),a=n,c=s(r.a,i.a,!1,a,null,null);o.a=c.exports},NHnr:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("MVSX"),r=t("M93x"),i=t("YaEn"),s=t("tra3"),a=(t.n(s),t("IvUc")),c=t.n(a),d=t("dZdb"),l=(t.n(d),t("HBSQ"));t.n(l);n.default.config.productionTip=!1,n.default.use(c.a),new n.default({el:"#app",router:i.a,template:"<App/>",components:{App:r.a}})},ODaZ:function(e,o,t){"use strict";function n(e){t("+7d6")}var r=t("WYxt"),i=t("CXZq"),s=t("46Yf"),a=n,c=s(r.a,i.a,!1,a,"data-v-fd936776",null);o.a=c.exports},WYxt:function(e,o,t){"use strict";o.a={name:"footer",data:function(){return{}}}},YaEn:function(e,o,t){"use strict";var n=t("MVSX"),r=t("zO6J");n.default.use(r.a),o.a=new r.a({routes:[{path:"/"}]})},avIL:function(e,o){},bs1c:function(e,o,t){"use strict";o.a={name:"footer",data:function(){return{}}}},dZdb:function(e,o){},henw:function(e,o,t){"use strict";(function(e){o.a={name:"HelloWorld",data:function(){return{activeNames:["1"],toolbarNodeData:[{name:"NodeJSServer",icon:"fa-server",width:150,height:100,num:1},{name:"MongoDatabase",icon:"fa-database",width:150,height:100,num:1},{name:"NodecellarApplicationModule",icon:"fa-cube",width:150,height:100,num:1},{name:"MonitoredServer",icon:"fa-cogs",width:150,height:100,num:1},{name:"Proxy",icon:"fa-product-hunt",width:150,height:100,num:1},{name:"Volume",icon:"fa-volume-up",width:150,height:100,num:1}],toolbarMoveNode:{left:0,top:0,name:"",icon:"",isShow:!1},svgTopo:{isMoveover:!1},connectorWSelf:15,connectorW:15,classchoose:!1,connectingLine:{x1:0,y1:0,x2:0,y2:0,isConnecting:!0,sourceNode:"",endNode:""},marker:{xmarkerX1:0,xmarkerY1:0,xmarkerX2:0,xmarkerY2:0,ymarkerX1:0,ymarkerY1:0,ymarkerX2:0,ymarkerY2:0,isMarkerShow:!1},gridData:[{x1:0,x2:100,y1:20,y2:20,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:0,x2:100,y1:40,y2:40,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:0,x2:100,y1:60,y2:60,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:0,x2:100,y1:80,y2:80,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:20,x2:20,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:40,x2:40,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:60,x2:60,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:80,x2:80,y1:0,y2:100,color:"#c0c0c0",strokeWidth:1,opacity:.3},{x1:100,x2:100,y1:0,y2:100,color:"#c0c0c0",strokeWidth:2,opacity:.6},{x1:0,x2:100,y1:100,y2:100,color:"#c0c0c0",strokeWidth:2,opacity:.6}],topoData:{nodes:[{x:30,y:10,icon:"*",width:150,height:100,id:66,isLeftConnectShow:!1,isRightConnectShow:!1,name:"New_server_0",isSelect:!1},{x:100,y:50,icon:"✏",width:150,height:100,id:77,isLeftConnectShow:!1,isRightConnectShow:!1,name:"New_volumn_0",isSelect:!1},{x:500,y:100,icon:"",width:100,height:100,id:88,isLeftConnectShow:!1,isRightConnectShow:!1,name:"New_proxy_0",isSelect:!1}],connectors:[]}}},computed:{},methods:{dragToolbarNode:function(o,t,n){function r(e){return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var i=this,s=o[t],a=s.name,c=s.icon;document.onmousemove=function(o){var t=o.clientX,n=o.clientY,r=o.clientX-e("#topo-svg").offset().left+e(document).scrollLeft(),s=o.clientY-e("#topo-svg").offset().top+e(document).scrollTop();if(i.toolbarMoveNode.left=t+4+e(document).scrollLeft(),i.toolbarMoveNode.top=n+4+e(document).scrollTop(),i.toolbarMoveNode.name=a,i.toolbarMoveNode.icon=c,i.toolbarMoveNode.isShow=!0,i.svgTopo.isMoveover){i.marker.isMarkerShow=!0;var d=Math.floor(r/20),l=Math.floor(s/20);i.marker.xmarkerY1=20*l,i.marker.xmarkerY2=20*l,i.marker.ymarkerX1=20*d,i.marker.ymarkerX2=20*d}},document.onmouseup=function(e){if(document.onmousemove=null,document.onmouseup=null,i.svgTopo.isMoveover){var o=s.name,t="New_"+s.name+"_"+s.num;s.num++;var n=r(5),a={name:t,type:o,x:i.marker.ymarkerX1,y:i.marker.xmarkerY2,icon:"*",width:s.width,height:s.height,id:n,isLeftConnectShow:!1,isRightConnectShow:!1};i.marker.isMarkerShow=!1,i.topoData.nodes.push(a)}i.toolbarMoveNode.left=0,i.toolbarMoveNode.top=0,i.toolbarMoveNode.name="",i.toolbarMoveNode.icon="",i.toolbarMoveNode.isShow=!1}},moveInTopoSvg:function(){this.svgTopo.isMoveover=!0},moveOutTopoSvg:function(){this.svgTopo.isMoveover=!1,this.marker.isMarkerShow=!1},mousedownTopoSvg:function(){this.topoData.nodes.forEach(function(e,o){e.isSelect=!1})},dragNode:function(e,o){function t(e,o,t){e.forEach(function(e,n){e.sourceNode!=d&&e.targetNode!=d||("Line"==e.type?e.sourceNode==e.targetNode?(e.pointes[0]=o+l,e.pointes[1]=t+u/2):e.sourceNode!=e.targetNode&&(e.sourceNode==d?(e.pointes[0]=o+l,e.pointes[1]=t+u/2):e.targetNode==d&&(e.pointes[2]=o,e.pointes[3]=t+u/2)):e.type)})}var n=this,r=o.clientX,i=o.clientY,s=this.topoData.nodes[e],a=s.x,c=s.y,d=s.id,l=s.width,u=s.height;this.marker.isMarkerShow=!0,this.topoData.nodes.forEach(function(e,o){e.isSelect=!1}),s.isSelect=!0,document.onmousemove=function(e){n.marker.isMarkerShow=!0;var o=e.clientX-r,d=e.clientY-i,l=a+o,u=c+d,p=Math.floor(l/20),m=Math.floor(u/20);s.x=l,s.y=u,n.marker.xmarkerY1=20*m,n.marker.xmarkerY2=20*m,n.marker.ymarkerX1=20*p,n.marker.ymarkerX2=20*p,t(n.topoData.connectors,l,u)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,n.marker.isMarkerShow=!1;var e=n.marker.ymarkerX1,o=n.marker.xmarkerY2;s.x=e,s.y=o,t(n.topoData.connectors,e,o)}},drawConnectLine:function(o,t){var n=this,r=this.connectingLine,i=this.topoData.nodes[o],s=i.width,a=i.height,c=t.clientX,d=t.clientY,l=t.clientX-e("#topo-svg").offset().left,u=t.clientY-e("#topo-svg").offset().top+4;r.isConnecting=!0,r.x1=l,r.y1=u,r.x2=l,r.y2=u,r.sourceNode=i.id,document.onmousemove=function(e){var o=e.clientX-c,t=e.clientY-d,n=l+o,s=u+t;i.isRightConnectShow=!0,r.x2=n,r.y2=s},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null;var e=!1,o=n.topoData.connectors,t=[],c=s,d=a,l=0,u=0,p=0,m=0,h="";if(r.endNode){if(o.forEach(function(o,t){o.sourceNode==i.id&&o.targetNode==r.endNode&&(e=!0)}),!e){n.topoData.nodes.forEach(function(e,o){e.id==r.endNode&&(l=e.width,u=e.height,p=e.x,m=e.y)}),r.sourceNode==r.endNode?(h="Line",t[0]=i.x+s,t[1]=i.y+a/2,t[2]=n.connectorWSelf,t[3]=-a/2-n.connectorWSelf,t[4]=-s-2*n.connectorWSelf,t[5]=n.connectorWSelf+a/2,t[6]=n.connectorWSelf):r.sourceNode!=r.endNode&&(h="Line",t[0]=i.x+s,t[1]=i.y+a/2,t[2]=p,t[3]=m+u/2);var f={type:h,pointes:t,sourceNode:i.id,targetNode:r.endNode,sourceNodeW:c,sourceNodeH:d,targetNodeW:l,targetNodeH:u};i.isRightConnectShow=!0,n.topoData.nodes.forEach(function(e,o){e.id==r.endNode&&(e.isLeftConnectShow=!0)}),o.push(f)}}else i.isRightConnectShow=!1,o.forEach(function(e,o){n.topoData.nodes.forEach(function(o,t){o.id==e.sourceNode&&(o.isRightConnectShow=!0)})});r.x1=0,r.y1=0,r.x2=0,r.y2=0,r.isConnecting=!1,r.sourceNode="",r.endNode=""}},mouseroverNode:function(e,o){console.log("我在这里"),this.marker.xmarkerY1=this.topoData.nodes[e].y,this.marker.xmarkerY2=this.topoData.nodes[e].y,this.marker.ymarkerX1=this.topoData.nodes[e].x,this.marker.ymarkerX2=this.topoData.nodes[e].x},getConnectLine:function(e){this.connectingLine.endNode=this.topoData.nodes[e].id},mouseoutLeftConnector:function(e){this.connectingLine.endNode=""}},mounted:function(){this.marker.xmarkerX2=e("#topo-svg").width(),this.marker.ymarkerY2=e("#topo-svg").height()}}}).call(o,t("tra3"))},"i+go":function(e,o,t){"use strict";function n(e){t("pe0J"),t("0l0b")}var r=t("henw"),i=t("7nmK"),s=t("46Yf"),a=n,c=s(r.a,i.a,!1,a,"data-v-634b5cf2",null);o.a=c.exports},pe0J:function(e,o){},qj8d:function(e,o){},r0Cc:function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{attrs:{id:"app"}},[t("v-header"),e._v(" "),t("v-topo"),e._v(" "),t("v-footer")],1)},r=[],i={render:n,staticRenderFns:r};o.a=i}},["NHnr"]);
//# sourceMappingURL=app.dc80923e274a972315aa.js.map